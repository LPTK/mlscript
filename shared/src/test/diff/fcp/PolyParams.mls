:NoRecursiveTypes
:GeneralizeCurriedFunctions


def foo(f: forall 'a. 'a -> 'a) =
  (f 1, f true)
//│ foo: (forall 'a. 'a -> 'a) -> (1 | 'b, true | 'c,)
//│    = [Function: foo]

fooid = foo id
//│ fooid: (1 | 'a, true | 'b,)
//│      = [ 1, true ]

fooid._1
fooid._2
//│ res: 1
//│    = undefined
//│ res: true
//│    = undefined

def foo(f: (forall 'A. 'A -> 'A) -> (forall 'B. 'B -> 'B)) =
  id f id (f id)
//│ foo: ((forall 'A. 'A -> 'A) -> (forall 'B. 'B -> 'B)) -> (forall 'B. 'B -> 'B | 'a)
//│    = [Function: foo1]

foo id
//│ res: 'B -> 'B | 'a
//│    = [Function: id]

foo id id
//│ res: 'a -> 'a
//│    = [Function: id]



def bui_ty: forall 'a. (forall 'b. 'a -> 'b) -> ()
//│ bui_ty: (forall 'b. 'a -> 'b) -> ()
//│       = <missing implementation>

// :d
bui_ty = bui_ty
//│ (forall 'b. 'a -> 'b) -> ()
//│   <:  bui_ty:
//│ (forall 'b. 'a -> 'b) -> ()
//│       = <no result>
//│         bui_ty is not implemented



